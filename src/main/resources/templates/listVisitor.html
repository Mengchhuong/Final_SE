<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <title>User Page</title>
</head>
<style>
    .table{
        background-color:gray; 
        color: white;
        width: 85%;
    }
</style>
<body>
    <center>
        <table class="table mt-3" >
            <thead>
                <tr>
                <th scope="col">id</th>
                <th scope="col">Mobile Number</th>
                <th scope="col">Visitor Members</th>
                <th scope="col">Date of Visiting</th>
                <th scope="col">Date of Exiting</th>
                </tr>
            </thead>
            <tbody id="main">

            </tbody>
        </table>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script>
            async function getList(){
                var main = document.getElementById("main")
                var response =await axios.get("/register");
                for(var data of response.data){
                    var newline = document.createElement("tr");
                    var columnPhoneNumber = document.createElement("td");
                    var columnid = document.createElement("td");
                    var columnVisit = document.createElement("td");
                    var columnExit = document.createElement("td");
                    columnid.innerHTML=data.id;
                    columnPhoneNumber.innerHTML=data.phonenum;
                    columnVisit.innerHTML=data.visitDate;
                    columnExit.innerHTML=data.exitDate;
                    newline.appendChild(columnid);
                    newline.appendChild(columnExit);
                    newline.appendChild(columnVisit);
                    newline.appendChild(columnPhoneNumber);
                    main.appendChild(newline)
                }
            }
            getList();
        </script>
    </center>
</body>
</html>